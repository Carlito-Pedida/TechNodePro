<h5>Comments (<%= @article.comments.length %>)</h5>
<div class="comments">
  <% @article.comments.each do |comment| %>
    <div class="comment my-3">
        <div class="d-flex align-items-center">
            <%= render "shared/article-user-avatar" %>
            <span class="px-2"><%= comment.user.username %></span>
        </div>
        <ul class="mx-4"><p><%= comment.body %></p></ul>
        
      <% if logged_in? && (comment.user == current_user || current_user.admin? ) %>
    <%= link_to "Remove Comment", [comment.article, comment], data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>      <h3>Replies</h3>
    <% end %> 
    <div>
        <% comment.replies.each do |reply| %>
          <ul class="mx-4">
            <ul><%= reply.reply_body %></ul>
            <p>Reply by: <%= reply.user.username %></p>
          </ul>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

